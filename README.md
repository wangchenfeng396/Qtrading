# Qtrading

## 获取历史数据


### fetch_date.py 
每天获取一次1m-udst/btc交易对

### download_to_clickhouse.py
每月获取一次1s-udst/btc交易对
- todo

1.使用download_to_clickhouse.py  2022-07，下载单月数据
失败的月份2025-01、2025-02、2025-03、2025-04、2025-05、2025-06、2025-07、2025-08、2025-09、2025-10、2025-11、2025-12

## 编写交易方法

###  15m 日内 + 1H 趋势过滤 + 5m 触发 的“顺势回踩”策略
 Python 回测代码（基于 ccxt + pandas），实现你这套 15m 日内 + 1H 趋势过滤 + 5m 触发 的“顺势回踩”策略，并且严格按你设定的风控：

    •    资金：$50（含备用金）
    •    杠杆：5x（用于计算保证金占用；回测以USDT线性合约方式计算盈亏）
    •    每笔风险：$0.50（=1%）
    •    止损距离：默认 1.2%（可切 1.0%）
    •    1R 减半，剩余推保本，2R 出清
    •    每天最多 3 笔；日亏 -$1.50 停手；连亏 3 单停手
    •    只做usdt/btc

## 通过数据库回测方法

## 对接tg机器人 提醒买入卖出